<?xml version="1.0" encoding="UTF-8"?>

<module configVersion="1.2">

	<!-- Module Properties -->
	<id>${project.parent.artifactId}</id>
	<name>${project.parent.name}</name>
	<version>${project.parent.version}</version>
	<package>${project.parent.groupId}.${project.parent.artifactId}
	</package>
	<author>Zhaslan Doschanov</author>
	<description>
		${project.parent.description}
	</description>
	<updateURL>https://modules.openmrs.org/modules/download/${project.parent.artifactId}/update.rdf
	</updateURL>
	<require_version>${openMRSVersion}</require_version>
	<!-- / Module Properties -->


	<!-- Module Activator -->
	<activator>${project.parent.groupId}.${project.parent.artifactId}.ChartSearchActivator
	</activator>

	<dwr>
		<allow>
			<convert converter="bean"
				match="${project.parent.groupId}.${project.parent.artifactId}.ChartListItem" />
			<create creator="new" javascript="DWRChartSearchService">
				<param name="class"
					value="${project.parent.groupId}.${project.parent.artifactId}.web.dwr.DWRChartSearchService" />
				<include method="findObsAndCount" />
				<include method="getDetails" />
			</create>
		</allow>
	</dwr>


	<!-- Adds link to admin page -->
	<extension>
		<point>org.openmrs.admin.list</point>
		<class>${project.parent.groupId}.${project.parent.artifactId}.extension.html.AdminList
		</class>
	</extension>

	<extension>
		<point>org.openmrs.patientDashboardTab</point>
		<class>${project.parent.groupId}.${project.parent.artifactId}.extension.html.PatientDashboardChartSearchTab
		</class>
	</extension>

	<!-- Required Global Properties -->
	<globalProperty>
		<property>${project.parent.artifactId}.maxResultsDefault</property>
		<defaultValue>50</defaultValue>
		<description>The default max results limit if the user does not
			provide a maximum when making the web service call.
		</description>
	</globalProperty>
	<globalProperty>
		<property>${project.parent.artifactId}.maxResultsAbsolute</property>
		<defaultValue>100</defaultValue>
		<description>The absolute max results limit. If the client requests a
			larger number of results, then will get an error
		</description>
	</globalProperty>
	<globalProperty>
		<property>${project.parent.artifactId}.uriPrefix</property>
		<description>The URI prefix through which clients consuming web
			services will connect to the web application, should be of the form
			http://{ipAddress}:{port}/{contextPath}
		</description>
	</globalProperty>
	<globalProperty>
		<property>${project.parent.artifactId}.allowedips</property>
		<defaultValue></defaultValue>
		<description>A comma-separate list of IP addresses that are allowed to
			access the web services. An empty string allows everyone to access
			all ws.
			IPs can be declared with bit masks e.g. 10.0.0.0/30 matches
			10.0.0.0 -
			10.0.0.3 and 10.0.0.0/24 matches 10.0.0.0 - 10.0.0.255.
		</description>
	</globalProperty>

	<!-- Maps hibernate file's, if present -->
	<mappingFiles>

		ChartSearch.hbm.xml

	</mappingFiles>

	<!-- Internationalization -->
	<!-- All message codes should start with ${project.parent.artifactId}. -->
	<messages>
		<lang>en</lang>
		<file>messages.properties</file>
	</messages>
	<messages>
		<lang>fr</lang>
		<file>messages_fr.properties</file>
	</messages>
	<messages>
		<lang>es</lang>
		<file>messages_es.properties</file>
	</messages>
	<!-- /Internationalization -->

</module>

